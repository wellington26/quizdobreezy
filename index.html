<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chris Brown Quiz</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #000, #1a1a1a);
  color: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
}

#quiz {
  background: #111;
  padding: 20px;
  border-radius: 14px;
  width: 340px;
  text-align: center;
  box-shadow: 0 0 25px rgba(255,255,255,0.1);
}

img {
  max-width: 100%;
  border-radius: 14px;
  margin-bottom: 15px;
}

button {
  width: 100%;
  margin: 6px 0;
  padding: 12px;
  border: none;
  border-radius: 10px;
  background: #ff0055;
  color: white;
  font-size: 14px;
  cursor: pointer;
  transition: 0.3s;
}

button:hover { background: #ff3377; }

button.correct { background: #00c853; }
button.wrong { background: #d50000; }
button:disabled { cursor: not-allowed; opacity: 0.8; }

.progress {
  height: 8px;
  background: #333;
  border-radius: 10px;
  overflow: hidden;
  margin-bottom: 15px;
}

.progress-bar {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, #ff0055, #ff77aa);
  transition: width 0.4s;
}

input {
  width: 100%;
  padding: 12px;
  border-radius: 10px;
  border: none;
  margin-bottom: 10px;
}

.final-container {
  animation: fadeIn 1s;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>
</head>

<body>

<div id="quiz">
  <img src="capa.jpg" alt="Chris Brown Quiz">
  <div class="progress"><div class="progress-bar" id="progressBar"></div></div>
  <div id="content"></div>
</div>

<script>
const questions = [
  { q:"Qual √© o nome completo do Chris Brown?", a:["Christopher Maurice Brown","Chris Michael Brown","Christian Brown","Christopher James Brown"], c:0 },
  { q:"Em que ano Chris Brown nasceu?", a:["1987","1989","1990","1992"], c:1 },
  { q:"Qual foi o primeiro grande hit dele?", a:["Loyal!","With You","Run It","Yeah 3x"], c:2 },
  { q:"Chris Brown nasceu em qual estado?", a:["Texas","Calif√≥rnia","Virg√≠nia","Nova York"], c:2 },
  { q:"Qual √© o apelido mais famoso dele?", a:["Breezy","CB","Brownie","King Chris"], c:0 }
];

let current = 0;
let score = 0;
let playerName = "";

const content = document.getElementById("content");

function startScreen() {
  content.innerHTML = `
    <h2>üî• Chris Brown Quiz</h2>
    <input id="nameInput" placeholder="Digite seu nome">
    <button onclick="startGame()">Come√ßar</button>
  `;
}

function startGame() {
  const name = document.getElementById("nameInput").value.trim();
  if (!name) return alert("Digite seu nome!");
  playerName = name;
  loadQuestion();
}

function loadQuestion() {
  if (current >= questions.length) return finishGame();

  const q = questions[current];
  document.getElementById("progressBar").style.width =
    ((current / questions.length) * 100) + "%";

  content.innerHTML = `<h3>${q.q}</h3>`;
  q.a.forEach((text, i) => {
    const btn = document.createElement("button");
    btn.innerText = text;
    btn.onclick = () => answer(btn, i, q.c);
    content.appendChild(btn);
  });
}

function answer(button, index, correct) {
  const buttons = document.querySelectorAll("button");
  buttons.forEach(b => b.disabled = true);

  if (index === correct) {
    button.classList.add("correct");
    score += 10;
  } else {
    button.classList.add("wrong");
    buttons[correct].classList.add("correct");
  }

  setTimeout(() => {
    current++;
    loadQuestion();
  }, 800);
}

function finishGame() {
  saveRanking();
  const ranking = getRanking();

  content.innerHTML = `
    <div class="final-container">
      <h2>üî• Fim do jogo!</h2>
      <p><strong>${playerName}</strong>, voc√™ fez <strong>${score}</strong> pontos üèÜ</p>

      <h3>üèÖ Ranking</h3>
      ${ranking.map((r,i)=>`<p>${i+1}. ${r.name} - ${r.score}</p>`).join("")}
    </div>
  `;
  document.getElementById("progressBar").style.width = "100%";
}

function saveRanking() {
  let ranking = JSON.parse(localStorage.getItem("ranking")) || [];
  ranking.push({ name: playerName, score });
  ranking.sort((a,b)=>b.score-a.score);
  ranking = ranking.slice(0,5);
  localStorage.setItem("ranking", JSON.stringify(ranking));
}

function getRanking() {
  return JSON.parse(localStorage.getItem("ranking")) || [];
}

startScreen();
</script>

</body>
</html>
